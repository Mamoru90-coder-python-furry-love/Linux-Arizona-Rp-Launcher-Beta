#!/bin/bash
# Arizona RP Linux Launcher – Lite Edition
# Автор: Shade_Furry
# Версия: V0.1 Beta
# Минимальный скрипт для запуска SAMP через Wine

set -euo pipefail

CONFIG_DIR="$HOME/.config/arizona_lite"
WINE_PREFIX="$CONFIG_DIR/wineprefix"
SAMP_DIR="$CONFIG_DIR/samp"

mkdir -p "$CONFIG_DIR" "$SAMP_DIR" "$WINE_PREFIX"

# Проверка Wine
if ! command -v wine &>/dev/null; then
    echo "[!] Установите Wine перед запуском"
    exit 1
fi

# Скачивание SAMP
SAMP_EXE="$SAMP_DIR/samp_install.exe"
if [[ ! -f "$SAMP_DIR/samp.exe" ]]; then
    echo "[*] Скачиваем SAMP..."
    wget -O "$SAMP_EXE" "https://files.sa-mp.com/sa-mp-0.3.7-R5-1-install.exe"
    WINEPREFIX="$WINE_PREFIX" wine "$SAMP_EXE" /S /D="C:\\samp"
    cp -r "$WINE_PREFIX/drive_c/samp/"* "$SAMP_DIR/"
fi

# Запуск
echo "[*] Запуск Arizona RP..."
WINEPREFIX="$WINE_PREFIX" wine "$SAMP_DIR/samp.exe" -n "Arizona RP" -h 185.231.153.115 -p 7777

